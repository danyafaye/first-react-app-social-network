(this["webpackJsonpreact-2"]=this["webpackJsonpreact-2"]||[]).push([[6],{399:function(e,n,t){"use strict";t.r(n);var c=t(27),s=t(7),r=t(0),i=t(130),a=t(400),u=t(2),o=a.a.TextArea,l=function(){var e=Object(r.useState)(null),n=Object(s.a)(e,2),t=n[0],c=n[1];return Object(r.useEffect)((function(){var e,n=function(){setTimeout(t,3e3)};function t(){var t,s,r;null===(t=e)||void 0===t||t.removeEventListener("close",n),null===(s=e)||void 0===s||s.close(),null===(r=e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"))||void 0===r||r.addEventListener("close",n),c(e)}return t(),function(){e.removeEventListener("close",n),e.close()}}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(j,{wsChannel:t}),Object(u.jsx)(v,{wsChannel:t})]})},j=function(e){var n=e.wsChannel,t=Object(r.useState)([]),i=Object(s.a)(t,2),a=i[0],o=i[1];return Object(r.useEffect)((function(){var e=function(e){var n=JSON.parse(e.data);o((function(e){return[].concat(Object(c.a)(e),Object(c.a)(n))}))};return null===n||void 0===n||n.addEventListener("message",e),function(){null===n||void 0===n||n.removeEventListener("message",e)}}),[n]),Object(u.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:a.map((function(e,n){return Object(u.jsx)(d,{message:e},n)}))})},d=function(e){var n=e.message;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:n.photo,style:{width:"30px"}})," ",Object(u.jsx)("b",{children:n.userName}),Object(u.jsx)("br",{}),n.message,Object(u.jsx)("hr",{})]})},v=function(e){var n=e.wsChannel,t=Object(r.useState)(""),c=Object(s.a)(t,2),a=c[0],l=c[1],j=Object(r.useState)("pending"),d=Object(s.a)(j,2),v=d[0],b=d[1];Object(r.useEffect)((function(){var e=function(){b("ready")};return null===n||void 0===n||n.addEventListener("open",e),function(){null===n||void 0===n||n.removeEventListener("open",e)}}),[n]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)(o,{rows:4,onChange:function(e){return l(e.currentTarget.value)},value:a})}),Object(u.jsx)("div",{children:Object(u.jsx)(i.a,{disabled:null==n||"ready"!==v,onClick:function(){a&&(null===n||void 0===n||n.send(a),l(""))},children:"Send"})})]})};n.default=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(l,{})})}}}]);
//# sourceMappingURL=6.80294b76.chunk.js.map