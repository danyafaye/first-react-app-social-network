{"version":3,"sources":["utils/validators/validators.ts","components/common/Paginator/Paginator.module.css","api/profile-api.ts","redux/profile-reducer.ts","redux/dialogs-reducer.ts","assets/images/users.png","components/Users/users.module.css","api/api.ts","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.jsx","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.ts","components/Login/LoginPage.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","utils/object-helpers.ts","api/users-api.ts","redux/users-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","redux/users-selectors.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","redux/auth-selectors.ts","components/Header/Header.tsx","App.tsx","index.tsx","components/common/FormsControls/FormsControls.tsx","assets/images/Spinner-1s-200px.svg","components/common/Preloader/Preloader.tsx","components/common/FormsControls/FormsControls.module.css"],"names":["required","value","maxLengthCreator","maxLength","length","module","exports","profileAPI","userId","instance","get","then","res","data","status","put","photoFile","formData","FormData","append","headers","profile","initialState","posts","id","message","likesCount","actions","addPostCreator","newPostText","type","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","photos","getUserProfile","dispatch","a","getStatus","updateStatus","resultCode","savePhoto","file","saveProfile","getState","auth","Error","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","dialogs","name","sendMessage","newMessageBody","dialogsReducer","body","ResultCodesEnum","ResultCodeForCaptchaEnum","axios","create","withCredentials","baseURL","News","Music","Settings","authAPI","email","password","rememberMe","captcha","post","delete","securityAPI","login","isAuth","captchaUrl","payload","getAuthUserData","meData","Success","getCaptchaUrl","url","logout","authReducer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","undefined","src","className","style","formSummaryError","LoginPage","props","useSelector","useDispatch","to","loginData","CaptchaIsRequired","initialized","appReducer","friends","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","usersAPI","getUsers","currentPage","pageSize","term","friend","follow","unfollow","users","totalUsersCount","isFetching","followingInProgress","count","requestUsers","page","response","totalCount","usersReducer","followed","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","WrappedComponent","Suspense","fallback","Preloader","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","cn","selectedPage","pageNumber","e","User","user","small","userPhoto","disabled","some","usersSearchFormValidate","values","UsersSearchForm","React","memo","enableReinitialize","initialValues","String","validate","setSubmitting","onFilterChanged","isSubmitting","as","Users","useEffect","parsed","queryString","history","location","search","substr","actualPage","actualFilter","Number","query","pathname","useHistory","UsersPage","pageTitle","selectIsAuth","selectCurrentUserLogin","Header","Layout","span","theme","mode","defaultSelectedKeys","Item","alt","backgroundColor","icon","UserOutlined","SubMenu","Menu","Content","Footer","Sider","DialogsContainer","lazy","ProfileContainer","ChatPage","SuspendedDialogs","SuspendedProfile","SuspendedChatPage","App","catchAllUnhandledErrors","alert","this","initializeApp","addEventListener","removeEventListener","padding","margin","width","height","title","LaptopOutlined","NotificationOutlined","minHeight","exact","from","path","render","textAlign","Component","AppContainer","withRouter","connect","promise","all","SocialApp","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","placeholder","validators","component","text","preloader"],"mappings":"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","file":"static/js/main.99b9ce10.chunk.js","sourcesContent":["export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value: string) => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength:number):FieldValidatorType => (value) => {\r\n    if(value.length > maxLength) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3EOYd\",\"pageNumber\":\"Paginator_pageNumber__2GJKN\",\"selectedPage\":\"Paginator_selectedPage__anPDg\"};","import { PhotosType, ProfileType } from '../Types/types';\r\nimport { instance, APIResponseType } from './api';\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/` + userId)\r\n            .then(res=>res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId)\r\n            .then(res=>res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status`, { status: status })\r\n            .then(res=>res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res=>res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile)\r\n            .then(res=>res.data)\r\n    }\r\n}","import { FormAction, stopSubmit } from 'redux-form';\r\nimport { PhotosType, PostType, ProfileType } from '../Types/types';\r\nimport { profileAPI } from '../api/profile-api';\r\nimport { BaseThunkType, InferActionsTypes } from '../redux/redux-store';\r\n\r\nlet initialState = {\r\n    posts: [{id: 1, message: 'Hi, how are you?', likesCount: 0},\r\n        {id: 2, message: \"It's my first post\", likesCount: 23},\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/ADD-POST':\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case 'SN/PROFILE/SET_USER_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case 'SN/PROFILE/SET_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case 'SN/PROFILE/DELETE_POST':\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case 'SN/PROFILE/SAVE_PHOTO_SUCCESS':\r\n            return{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const actions = {\r\n    addPostCreator: (newPostText:string) => ({type: 'SN/PROFILE/ADD-POST', newPostText} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'SN/PROFILE/SET_USER_PROFILE', profile} as const),\r\n    setStatus: (status: string) => ({type: 'SN/PROFILE/SET_STATUS', status} as const),\r\n    deletePost: (postId: number) => ({type: 'SN/PROFILE/DELETE_POST', postId} as const),\r\n    savePhotoSuccess: (photos:PhotosType) => ({type: 'SN/PROFILE/SAVE_PHOTO_SUCCESS', photos} as const)\r\n\r\n}\r\n//thunk creator\r\nexport const getUserProfile = (userId: number):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(data))\r\n}\r\nexport const getStatus = (userId:number):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setStatus(data));\r\n}\r\nexport const updateStatus = (status:string):ThunkType => async (dispatch) => {\r\n    try {\r\n    let data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status));\r\n    }} catch(error) {\r\n\r\n    }\r\n}\r\nexport const savePhoto = (file:File):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(file);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.savePhotoSuccess(data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile: ProfileType):ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    let data = await profileAPI.saveProfile(profile)\r\n    if (data.resultCode === 0) {\r\n        if(userId != null){\r\n        dispatch(getUserProfile(userId))\r\n        }\r\n        else{\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: data.messages[0]}))\r\n        return Promise.reject(data.messages[0])\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","import { InferActionsTypes } from '../redux/redux-store';\r\n\r\ntype DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\ntype MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    messages: [{id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How do you do?'},\r\n        {id: 3, message: 'Yo.'},\r\n        {id: 4, message: 'yo'},\r\n        {id: 5, message: 'yo'}\r\n    ] as Array<MessageType>,\r\n    dialogs: [{id: 1, name: 'Danya'},\r\n        {id: 2, name: 'Ivan'},\r\n        {id: 3, name: 'Den'},\r\n        {id: 4, name: 'Vlad'},\r\n        {id: 5, name: 'Georgiy'}\r\n    ] as Array<DialogType>\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action:ActionsType):InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/DIALOGS/SEND_MESSAGE':\r\n            let body = action.newMessageBody\r\n            return{...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const actions = {\r\n    sendMessage: (newMessageBody: string) => ({type: 'SN/DIALOGS/SEND_MESSAGE', newMessageBody} as const)\r\n}\r\n\r\nexport default dialogsReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Gxhm\"};","import axios from \"axios\";\r\nimport { UserType } from '../Types/types';\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\": \"ec60d246-4717-4541-adc2-20e30e3bdf4b\"}\r\n});\r\n\r\nexport enum ResultCodesEnum {\r\n    Success=0,\r\n    Error=1,\r\n}\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired=10\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from \"./Music.module.css\"\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from \"./Settings.module.css\"\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import { instance, APIResponseType, ResultCodeForCaptchaEnum, ResultCodesEnum } from './api';\r\n\r\ntype MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\ntype LoginResponseType = {\r\n    userId: number\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<APIResponseType<LoginResponseType, ResultCodesEnum | ResultCodeForCaptchaEnum>>\r\n        (`auth/login`, { email, password, rememberMe, captcha })\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import { instance } from './api';\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`)\r\n            .then(res=>res.data)\r\n    }\r\n}","import { ResultCodeForCaptchaEnum, ResultCodesEnum} from \"../api/api\";\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../api/auth-api';\r\nimport { securityAPI } from '../api/security-api';\r\nimport { BaseThunkType, InferActionsTypes } from '../redux/redux-store';\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string | null //if null, then captcha isn`t required\r\n}\r\n\r\nconst authReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/AUTH/SET_USER_DATA':\r\n        case 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const actions = {\r\n    setAuthUserData: (userId: number | null, email: string | null, login:string | null, isAuth: boolean) => ({\r\n        type: 'SN/AUTH/SET_USER_DATA', payload: {userId, email, login, isAuth}\r\n    } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl:string) => ({\r\n        type: 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS',\r\n        payload: {captchaUrl}\r\n    } as const)\r\n}\r\n\r\n//thunk creator\r\nexport const getAuthUserData = ():ThunkType => async (dispatch) => {\r\n    let meData = await authAPI.me()\r\n    if (meData.resultCode === ResultCodesEnum.Success) {\r\n        let {id, login, email} = meData.data\r\n        dispatch(actions.setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\nexport const login = (email:string, password:string, rememberMe:boolean, captcha:string):ThunkType => async (dispatch) => {\r\n    let loginData = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (loginData.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (loginData.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired){\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = loginData.messages.length > 0 ? loginData.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\nexport const getCaptchaUrl = ():BaseThunkType => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = data.url\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\nexport const logout = ():ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actions.setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ThunkType=BaseThunkType<ActionsType | FormAction>\r\ntype ActionsType = InferActionsTypes<typeof actions>","import React from \"react\";\r\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { createField, GetStringKeys, Input } from \"../../components/common/FormsControls/FormsControls\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm:React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps>\r\n    = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField<LoginFormValuesTypeKeys>(\"Email\", \"email\", [required], Input)}\r\n            {createField<LoginFormValuesTypeKeys>(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField<LoginFormValuesTypeKeys>(undefined,\"rememberMe\", [], Input, {type: \"checkbox\"}, \"Remember Me\")}\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nexport type LoginFormValuesType = {\r\n    captcha: string\r\n    rememberMe: boolean\r\n    password: string\r\n    email: string\r\n}\r\n\r\ntype LoginFormValuesTypeKeys = GetStringKeys<LoginFormValuesType>\r\n\r\nexport const LoginPage:React.FC = (props) => {\r\n    const captchaUrl = useSelector((state: AppStateType)=>state.auth.captchaUrl)\r\n    const isAuth = useSelector((state:AppStateType)=>state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n    </div>\r\n}\r\n","import { getAuthUserData } from './auth-reducer'\r\nimport { InferActionsTypes } from '../redux/redux-store';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\nconst appReducer = (state = initialState, action:ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/APP/INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const actions = {\r\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\n//thunk creator\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {dispatch(actions.initializedSuccess());})\r\n}\r\n\r\nexport default appReducer;","export type InitialStateType = typeof initialState;\r\ntype FriendsType = {\r\n    name: string\r\n}\r\n\r\nlet initialState = {\r\n    friends: [{name: \"Vlad\"},\r\n        {name: \"Georgiy\"},\r\n        {name: \"Den\"}] as Array <FriendsType>\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action:any):InitialStateType => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n    return items.map((u: any) => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { GetItemsType, instance, APIResponseType } from './api'\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10,\r\n             term: string = '', friend: null | boolean = null) {\r\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`))\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>\r\n    }\r\n}","import {updateObjectInArray} from \"../utils/object-helpers\"\r\nimport { UserType } from '../Types/types'\r\nimport { BaseThunkType, InferActionsTypes } from '../redux/redux-store'\r\nimport { Dispatch } from 'redux'\r\nimport { usersAPI } from '../api/users-api';\r\nimport { APIResponseType } from '../api/api';\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>, //array of users ids\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nconst usersReducer = (state = initialState, action:ActionsTypes):InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true}) as any\r\n            }\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false}) as any\r\n            }\r\n        case 'SN/USERS/SET_USERS': {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case 'SN/USERS/SET_CURRENT_PAGE': {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT': {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case 'SN/USERS/TOGGLE_IS_FETCHING': {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case 'SN/USERS/SET_FILTER': {\r\n            return{\r\n                ...state, filter: action.payload\r\n            }\r\n        }\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const actions = {\r\n    followSuccess: (userId: number) => ({type: 'SN/USERS/FOLLOW', userId} as const),\r\n    unfollowSuccess: (userId: number) => ({type: 'SN/USERS/UNFOLLOW', userId} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', currentPage} as const),\r\n    setFilter: (filter: FilterType) => ({type: 'SN/USERS/SET_FILTER', payload: filter} as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({type: 'SN/USERS/SET_TOTAL_USERS_COUNT', count: totalUsersCount} as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching} as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId:number) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>,\r\n                                   userId: number,\r\n                                   apiMethod: (userId: number) => Promise<APIResponseType>,\r\n                                   actionCreator:(userId:number) => ActionsTypes) => {\r\n    dispatch(actions.toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(actions.toggleFollowingProgress(false, userId))\r\n}\r\n\r\n//thunk creators\r\nexport const requestUsers = (page: number,\r\n                             pageSize: number, filter: FilterType):ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true));\r\n        dispatch(actions.setCurrentPage(page));\r\n        dispatch(actions.setFilter(filter))\r\n        let response = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend)\r\n        dispatch(actions.toggleIsFetching(false));\r\n        dispatch(actions.setUsers(response.items))\r\n        dispatch(actions.setTotalUsersCount(response.totalCount))\r\n    }\r\n}\r\nexport const follow = (userId: number):ThunkType => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess)\r\n    }\r\n}\r\nexport const unfollow = (userId: number):ThunkType => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter;\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype ActionsTypes = InferActionsTypes<typeof actions>","import { Action, applyMiddleware, combineReducers, compose, createStore } from \"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\"\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./app-reducer\"\r\n\r\nlet rootReducer = combineReducers(\r\n    {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        sidebar: sidebarReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReducer,\r\n        app: appReducer\r\n    }\r\n);\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends {[keys: string]: (...args: any[]) => infer U} ? U: never\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, any, A>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport function withSuspense <WCP>(WrappedComponent: React.ComponentType<WCP>){\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<Preloader/>}><WrappedComponent{...props}/></React.Suspense>\r\n    };\r\n}","import {createSelector} from \"reselect\";\r\nimport { AppStateType } from '../redux/redux-store';\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users;\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter\r\n}\r\n\r\n\r\n","import React, { FC, useState } from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: FC<PropsType> = ({totalItemsCount,\r\n                                      pageSize,\r\n                                      currentPage,\r\n                                      onPageChanged,\r\n                                      portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount /pageSize);\r\n\r\n    let pages:Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={()=>{setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return (<span className={cn({\r\n                    [styles.selectedPage] : currentPage === p}, styles.pageNumber)\r\n                } key={p} onClick={(e) => {\r\n                    onPageChanged(p)\r\n                }}>{p}</span>)\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={()=>{setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n        </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"./../../assets/images/users.png\";\r\nimport { UserType } from '../../Types/types';\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unfollow:(userId: number) => void\r\n    follow:(userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (<div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small\r\n                            : userPhoto} className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          unfollow(user.id);\r\n                                      }}>Unfollow</button>\r\n                            : <button disabled = {followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          follow(user.id);\r\n                                      }}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n        <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n    </div>)}\r\n\r\nexport default User;","import { Field, Form, Formik } from 'formik';\r\nimport React from 'react';\r\nimport { FilterType } from '../../redux/users-reducer';\r\nimport { getUsersFilter } from '../../redux/users-selectors';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\ntype FriendFormType = \"true\" | \"false\" | \"null\";\r\ntype FormType = {\r\n    term: string,\r\n    friend: FriendFormType\r\n}\r\n\r\ntype PropsType={\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\nexport const UsersSearchForm:React.FC<PropsType> = React.memo((props) => {\r\n    const filter = useSelector(getUsersFilter)\r\n\r\n    const submit = (values: FormType, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter:FilterType = {term: values.term,\r\n        friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false}\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n    return <div>\r\n        <Formik\r\n            enableReinitialize\r\n            initialValues={{ term: '', friend: String(filter.friend) as FriendFormType}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}>{({ isSubmitting }) => (\r\n            <Form>\r\n                <Field type=\"text\" name=\"term\"/>\r\n                <Field name=\"friend\" as=\"select\">\r\n                    <option value=\"null\">All</option>\r\n                    <option value=\"true\">Only followed</option>\r\n                    <option value=\"false\">Only unfollowed</option>\r\n                </Field>\r\n                <button type=\"submit\" disabled={isSubmitting}>\r\n                    Find\r\n                </button>\r\n            </Form>\r\n        )}\r\n        </Formik>\r\n    </div>\r\n})","import React, { useEffect } from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from \"../../components/Users/User\";\r\nimport { UsersSearchForm } from './UsersSearchForm';\r\nimport { FilterType, requestUsers } from '../../redux/users-reducer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from '../../redux/users-selectors';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as queryString from 'querystring';\r\n\r\ntype QueryParamsType = { term?: string, page?: string, friend?: string };\r\nexport const Users: React.FC = (props) => {\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const pageSize = useSelector(getPageSize)\r\n    const filter = useSelector(getUsersFilter)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n    const dispatch = useDispatch()\r\n    const users = useSelector(getUsers)\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter))\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollow(userId))\r\n    }\r\n    const follow = (userId: number) => {\r\n        dispatch(follow(userId))\r\n    }\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n        if (!!parsed.term) actualFilter = { ...actualFilter, term: parsed.term as string }\r\n        switch (parsed.friend) {\r\n            case \"null\":\r\n                actualFilter = { ...actualFilter, friend: null }\r\n                break\r\n            case \"true\":\r\n                actualFilter = { ...actualFilter, friend: true }\r\n                break\r\n            case \"false\":\r\n                actualFilter = { ...actualFilter, friend: false }\r\n                break\r\n        }\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n\r\n        if (!!filter.term) query.term = filter.term\r\n        if (filter.friend !== null) query.friend = String(filter.friend)\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push({\r\n            pathname: '/developers',\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [filter, currentPage])\r\n    const history = useHistory();\r\n    return <div>\r\n        <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div>\r\n            {users.map(u =>\r\n                <User user={u}\r\n                      followingInProgress={followingInProgress}\r\n                      key={u.id}\r\n                      unfollow={unfollow}\r\n                      follow={follow}/>)}\r\n        </div>\r\n    </div>\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Preloader from \"./../common/Preloader/Preloader\"\r\nimport { getIsFetching } from \"../../redux/users-selectors\"\r\nimport { Users } from './Users';\r\n\r\ntype UsersPagePropsType = {\r\n    pageTitle: string\r\n}\r\n\r\nexport const UsersPage: React.FC<UsersPagePropsType> = (props) => {\r\n    const isFetching = useSelector(getIsFetching)\r\n\r\n    return <div>\r\n        <h2>{props.pageTitle}</h2>\r\n        {isFetching ? <Preloader/> : null}\r\n        <Users/>\r\n    </div>\r\n}","import { AppStateType } from '../redux/redux-store';\r\n\r\nexport const selectIsAuth = (state: AppStateType) => {\r\n    return state.auth.isAuth\r\n}\r\nexport const selectCurrentUserLogin = (state: AppStateType) => {\r\n    return state.auth.login\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Button, Col, Layout, Menu, Row } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectCurrentUserLogin, selectIsAuth } from '../../redux/auth-selectors';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\ntype MapPropsType = {}\r\n\r\nexport const Header: React.FC<MapPropsType> = (props) => {\r\n    const isAuth = useSelector(selectIsAuth)\r\n    const login = useSelector(selectCurrentUserLogin)\r\n    const dispatch = useDispatch()\r\n    const logoutCallback = () => (dispatch(logout))\r\n\r\n    const { Header } = Layout;\r\n    return <Header className=\"header\">\r\n        <Row>\r\n            <Col span={18}> <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                <Menu.Item key=\"1\"><Link to=\"/developers\">Developers</Link></Menu.Item>\r\n            </Menu></Col>\r\n\r\n            {isAuth\r\n                ? <><Col span={1}>\r\n                    <Avatar alt={login || ''} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined/>}/>\r\n                </Col>\r\n                    <Col span={5}>\r\n                        <Button onClick={logoutCallback}>Log out</Button>\r\n                    </Col></>\r\n                : <Col span={6}>\r\n                    <Button>\r\n                        <Link to={'/login'}>Login</Link>\r\n                    </Button>\r\n                </Col>}\r\n        </Row>\r\n    </Header>\r\n}\r\n\r\n// <header className={s.header}>\r\n//     <img src='https://api.freelogodesign.org/assets/thumb/logo/21833077_400.png'/>\r\n//\r\n//     <div className={s.loginBlock}>\r\n//         {props.isAuth\r\n//             ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n//             : <NavLink to={'/login'}>Login</NavLink>}\r\n//     </div>\r\n// </header>","import './App.css'\r\nimport 'antd/dist/antd.css'\r\nimport React, { ComponentType } from \"react\"\r\nimport { BrowserRouter, Link, Redirect, Route, Switch, withRouter } from \"react-router-dom\"\r\nimport News from \"./components/News/News\"\r\nimport Music from \"./components/Music/Music\"\r\nimport Settings from \"./components/Settings/Settings\"\r\nimport { LoginPage } from \"./components/Login/LoginPage\"\r\nimport { compose } from \"redux\"\r\nimport { connect, Provider } from \"react-redux\"\r\nimport { initializeApp } from \"./redux/app-reducer\"\r\nimport Preloader from \"./components/common/Preloader/Preloader\"\r\nimport store, { AppStateType } from \"./redux/redux-store\"\r\nimport { withSuspense } from \"./hoc/withSuspense\"\r\nimport { UsersPage } from './components/Users/UsersContainer'\r\nimport { Breadcrumb, Layout, Menu } from 'antd'\r\nimport { LaptopOutlined, NotificationOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { Header } from './components/Header/Header';\r\n\r\nconst { SubMenu } = Menu;\r\nconst { Content, Footer, Sider } = Layout;\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst ChatPage = React.lazy(() => import('./pages/Chat/ChatPage'))\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\nconst SuspendedDialogs = withSuspense(DialogsContainer)\r\nconst SuspendedProfile = withSuspense(ProfileContainer)\r\nconst SuspendedChatPage = withSuspense(ChatPage)\r\n\r\nclass App extends React.Component<MapPropsType & DispatchPropsType> {\r\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n        alert(\"Some error occured\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <Layout>\r\n                <Header/>\r\n                <Content style={{ padding: '0 50px' }}>\r\n                    <Breadcrumb style={{ margin: '16px 0' }}>\r\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>List</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\r\n                        <Sider className=\"site-layout-background\" width={200}>\r\n                            <Menu\r\n                                mode=\"inline\"\r\n                                defaultSelectedKeys={['1']}\r\n                                style={{ height: '100%' }}\r\n                            >\r\n                                <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"My Profile\">\r\n                                    <Menu.Item key=\"1\"><Link to=\"/profile\">Profile</Link></Menu.Item>\r\n                                    <Menu.Item key=\"2\"><Link to=\"/dialogs\">Messages</Link></Menu.Item>\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Developers\">\r\n                                    <Menu.Item key=\"5\"><Link to=\"/developers\">Users</Link></Menu.Item>\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"Interactions\">\r\n                                    <Menu.Item key=\"9\"><Link to=\"/chat\">Chat</Link></Menu.Item>\r\n                                </SubMenu>\r\n                            </Menu>\r\n                        </Sider>\r\n                        <Content style={{ padding: '0 24px', minHeight: 280 }}>\r\n                            <Switch>\r\n                                <Redirect exact from=\"/\" to=\"/profile\"/>\r\n                                <Route path=\"/dialogs\" render={() => <SuspendedDialogs/>}/>\r\n                                <Route path=\"/profile/:userId?\" render={() => <SuspendedProfile/>}/>\r\n                                <Route path=\"/developers\" render={() => <UsersPage pageTitle={\"Пользователи\"}/>}/>\r\n                                <Route path=\"/news\" render={() => <News/>}/>\r\n                                <Route path=\"/music\" render={() => <Music/>}/>\r\n                                <Route path=\"/settings\" render={() => <Settings/>}/>\r\n                                <Route path=\"/login\" render={() => <LoginPage/>}/>\r\n                                <Route path='/chat' render={() => <SuspendedChatPage/>}/>\r\n                                <Route path='*' render={() => <div>ERROR 404</div>}/>\r\n                            </Switch>\r\n                        </Content>\r\n                    </Layout>\r\n                </Content>\r\n                <Footer style={{ textAlign: 'center' }}>Social Network ©2021</Footer>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose<ComponentType>(withRouter,\r\n    connect(mapStateToProps, { initializeApp })\r\n)(App)\r\n\r\nconst SocialApp: React.FC = () => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default SocialApp;","import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport SocialApp from \"./App\";\r\n\r\n\r\nReactDOM.render(<SocialApp/>, document.getElementById('root'));\r\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps } from \"redux-form\";\r\nimport { FieldValidatorType } from '../../../utils/validators/validators';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl:React.FC<FormControlPropsType> = ({ meta: { touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n       name: FormKeysType,\r\n       validators: Array<FieldValidatorType>,\r\n       component: React.FC<WrappedFieldProps>,\r\n       props = {},\r\n       text = \"\")\r\n{return (<div>\r\n        <Field placeholder={placeholder}\r\n               validate={validators}\r\n               name={name} component={component}\r\n               {...props}/> {text}\r\n</div>)}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>","export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.c800ed5b.svg\";","import preloader from \"../../../assets/images/Spinner-1s-200px.svg\";\r\nimport React from \"react\";\r\n\r\ntype PropsType = {\r\n}\r\n\r\nlet Preloader: React.FC<PropsType> = (props) => {\r\n    return <img src={preloader}/>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1xnKP\",\"error\":\"FormsControls_error__2FMQC\",\"formSummaryError\":\"FormsControls_formSummaryError__38waA\"};"],"sourceRoot":""}